(function(a){"use strict";a(document).ready(function(){a(".agent-action a").tooltip({html:true,container:a("body"),placement:"top"});if(a(".s-prop-location").length&&a(".s-prop-sub_location").length){a(".s-prop-location").find(".dropdown-menu > li > a").on("click",function(b){b.stopPropagation();b.preventDefault();var c=a(this).data("value");a(".s-prop-sub_location .dropdown").children('[data-toggle="dropdown"]').text(a(".s-prop-sub_location .dropdown-menu > li:first a").text());a(".s-prop-sub_location").find(".dropdown-menu > li").each(function(){var d=a(this).data("parent-location");if(typeof(d)!=="undefined"&&d!=c){a(this).hide()}else{a(this).show()}})})}});if(a(".form-group .dropdown").length){a(".form-group .dropdown-menu > li > a").on("click",function(c){c.stopPropagation();c.preventDefault();var b=a(this).closest(".dropdown"),d=a(this).data("value");b.children("input").val(d);b.children("input").trigger("change");b.children('[data-toggle="dropdown"]').text(a(this).text());b.children('[data-toggle="dropdown"]').dropdown("toggle")});a(".s-prop-desc textarea").wysihtml5({"font-styles":false,blockquote:false,emphasis:true,lists:true,html:false,link:true,image:true,color:false})}a(".subscription_post #recurring_payment").click(function(){if(a(this).is(":checked")){a(".subscription_post .recurring_time").show()}else{a(".subscription_post .recurring_time").hide()}});a(".profile-form").submit(function(b){b.preventDefault();var c=a(this);var d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(g){var f=a.parseJSON(g);var e="";if(f.success){e='<div class="noo-message alert alert-success alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span></button>'+f.message+"</div>"}else{e='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span></button>'+f.message+"</div>"}c.find(".form-message").empty().append(e);c.find("input[type=password]").val("")},error:function(e){}})});a(".property-action .agent-action .status-property").click(function(b){b.preventDefault();var d=a(this),c=d.parent(".agent-action"),f={prop_id:c.attr("data-prop-id"),agent_id:c.attr("data-agent-id"),nonce:noo_dashboard.status_property,action:"noo_ajax_status_property"};a.post(nooL10n.ajax_url,f,function(e){var g=a.parseJSON(e);if(g.success){location.reload()}})});a(".property-action .agent-action .featured-property").click(function(b){b.preventDefault();if(confirm(noo_dashboard.confirmFeaturedMsg)){var d=a(this),c=d.parent(".agent-action"),f={prop_id:c.attr("data-prop-id"),agent_id:c.attr("data-agent-id"),nonce:noo_dashboard.featured_property,action:"noo_ajax_featured_property"};a.post(nooL10n.ajax_url,f,function(e){var g=a.parseJSON(e);if(g.success){location.reload()}})}});a(".property-action .agent-action .delete-property").click(function(b){b.preventDefault();if(confirm(noo_dashboard.confirmDeleteMsg)){var d=a(this),c=d.parent(".agent-action"),f={prop_id:c.attr("data-prop-id"),agent_id:c.attr("data-agent-id"),nonce:noo_dashboard.delete_property,action:"noo_ajax_delete_property"};a.post(nooL10n.ajax_url,f,function(e){var g=a.parseJSON(e);if(g.success){d.parent("article").remove()}})}});a(".submission-payment .submission-featured").change(function(){var b=a(this),c=b.closest(".submission-payment");if(b.is(":checked")){c.find(".payment-total span.amount").text(c.attr("data-total-price-text"));c.find(".payment-action a.paypal-btn").removeClass("disabled")}else{var d=c.find(".listing-price span.amount").length?c.find(".listing-price span.amount").text():c.attr("data-zero-price-text");c.find(".payment-total span.amount").text(d);if(c.attr("data-listing-price")=="0"){c.find(".payment-action a.paypal-btn").addClass("disabled")}}});a("form.subscription_post").submit(function(b){b.preventDefault();if((nooL10n.is_logged_in=="false")&&a(".noo-login-form").length>0){a(".noo-login-form").show();return}var c=a(this);var d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(g){var f=a.parseJSON(g);var e="";if(f.success){window.location.replace(f.message)}else{e='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span></button>'+f.message+"</div>"}c.find(".form-message").empty().append(e)},error:function(e){}})});a(".listing-payment-form").submit(function(b){b.preventDefault();var c=a(this);var d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(g){var f=a.parseJSON(g);var e="";if(f.success){window.location.replace(f.message)}else{e='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span></button>'+f.message+"</div>"}c.find(".form-message").empty().append(e)},error:function(e){}})});a(".noo-logreg .login-form form").submit(function(b){b.preventDefault();var c=a(this);var d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(g){var f=a.parseJSON(g);var e="";if(f.success){e='<div class="noo-message alert alert-success alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span></button>'+f.message+"</div>"}else{e='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span></button>'+f.message+"</div>"}c.find(".form-message").empty().append(e);if(typeof f.redirect!="undefined"){window.location.replace(f.redirect)}},error:function(e){}})});a(".noo-logreg .register-form form").submit(function(b){b.preventDefault();var c=a(this);var d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(g){var f=a.parseJSON(g);var e="";if(f.success){e='<div class="noo-message alert alert-success alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span></button>'+f.message+"</div>";c.find("input[type=text]").val("");c.find("input[type=email]").val("")}else{e='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span></button>'+f.message+"</div>"}c.find(".form-message").empty().append(e);if(typeof f.redirect!="undefined"){window.location.replace(f.redirect)}},error:function(e){}})})})(jQuery);